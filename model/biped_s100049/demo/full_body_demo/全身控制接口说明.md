### `/humanoid_mpc_fullbody_target_trajectories` 接口说明
- msg类型: `fullBodyTargetTrajectories`
```shell
float64[]    timeTrajectory #时间序列，单位为秒
int32[]      footIndexTrajectory #mode,接触模式，0-左脚，1-右脚，2-双脚
qv[]  fullBodyQTrajectory #包含广义位置轨迹, 直接指定全身轨迹
qv[]  fullBodyVTrajectory #全身广义速度轨迹
```
- 广义位置、广义速度的顺序定义符合Drake动力学库格式:
  - q: [quat_w, quat_x, quat_y, quat_z, pos_x, pos_y, pos_z, joints...]
  - v: [angular_vel_x, angular_vel_y, angular_vel_z, vel_x, vel_y, vel_z, joint_velocities...]

- 参考使用示例: `src/demo/full_body_demo/csv_trajectory_publisher.py`
- 跳舞(使用全身轨迹跟踪接口)、太极(使用的是单步接口)等使用文档：`src/demo/full_body_demo/readme.md`

### 全身轨迹优化跟踪Pipeline
1. 获取到动捕数据序列文件
2. 通过 https://www.lejuhub.com/lisishu/amass-retargeting 将动捕轨迹重映射到机器人上, 得到全身关节层的动作序列文件
   - 动捕数据序列文件格式参考: `src/demo/full_body_demo/motions/*`
   - 其中第一列为接触相，后续为符合`csv_trajectory_publisher.py`读取格式的广义位置、广义速度序列
   - 帧间隔时间为默认指定的0.01(在`csv_trajectory_publisher.py`中处理)
3. 重映射之后的原始轨迹(不符合动力学)通过ocs2的dummy_loop，调用全身接口进行执行，输出一份优化过符合动力学的`rbdstate.csv`(在ros执行目录`~/.ros/`下)
   - 运行`dummy_loop`：
      ```bash
      cd <kuavo-ros-control>
      source devel/setup.bash
      roslaunch humanoid_interface_ros humanoid_sqp.launch 
      ```
   - 通过`csv_trajectory_publisher.py`读取重映射后的动捕数据序列文件，并发布全身轨迹
      ```shell
      source devel/setup.bash
      python3 ./src/demo/full_body_demo/csv_trajectory_publisher.py <xxx.csv>
      ```
   - 运行`dummy_loop`后，会在`~/.ros/`下生成`rbdstate.csv`文件,该文件格式符合`csv_trajectory_publisher.py`发布的格式，所以可以反复执行进行多轮优化
   - 每轮优化的目标可以通过调整对应的task.info文件中的任务权重进行调整
  
4. 这个rbdstate.csv可以继续调用全身接口进行仿真或者实物的执行
